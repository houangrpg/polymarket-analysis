import json
import os
from datetime import datetime

def generate_report(project_name, status, security_stats, performance_stats, loot_items, suggestions):
    updated_at = datetime.now().strftime('%Y-%m-%d %H:%M')
    
    # é€™è£¡æ”¾æˆ‘å€‘å‰›æ‰è¨­è¨ˆçš„ HTML æ¨¡æ¿ï¼Œä½†å°‡æ•¸æ“šè®Šé‡åŒ–
    template = f'''
    <!DOCTYPE html>
    <html lang="zh-TW">
    <head>
        <meta charset="UTF-8">
        <title>{project_name} ç³»çµ±å†’éšªæª¢æ¸¬å ±å‘Š</title>
        <style>
            /* é€™è£¡æ”¾ä¹‹å‰çš„ CSS */
            :root {{ --bg: #0f0c29; --card: #1b1b2f; --primary: #00d2ff; --success: #39ff14; --warning: #ffbd39; --danger: #ff3131; --text: #ffffff; }}
            body {{ font-family: sans-serif; background: var(--bg); color: var(--text); display: flex; flex-direction: column; align-items: center; padding: 20px; }}
            .quest-card {{ background: var(--card); border: 2px solid var(--primary); border-radius: 15px; padding: 20px; margin-bottom: 20px; width: 100%; max-width: 800px; }}
            .loot-item {{ display: inline-block; background: #333; padding: 5px 10px; border-radius: 5px; margin: 5px; font-size: 0.9em; }}
        </style>
    </head>
    <body>
        <h1>{project_name} RAID REPORT</h1>
        <div class="status" style="color:var(--success); font-weight:bold; margin-bottom:20px;">[ {status} ] æœ€å¾Œæƒæï¼š{updated_at}</div>
        
        <div class="quest-card">
            <h3>ğŸ›¡ï¸ å®‰å…¨é˜²ç¦¦: {security_stats['level']}</h3>
            <p>æˆ°åˆ©å“: {" ".join([f'<span class="loot-item">{x}</span>' for x in loot_items])}</p>
        </div>

        <div class="quest-card">
            <h3>ğŸ“œ æ”¹å–„å»ºè­°</h3>
            {"".join([f'<p>â€¢ {x}</p>' for x in suggestions])}
        </div>
        
        <footer>GENERATED BY JOECLOW AI LAB</footer>
    </body>
    </html>
    '''
    
    with open(f'{project_name.lower()}_report.html', 'w') as f:
        f.write(template)
    print(f"âœ… å ±å‘Šå·²ç”Ÿæˆ: {project_name.lower()}_report.html")

# ä½¿ç”¨ç¯„ä¾‹
if __name__ == "__main__":
    generate_report(
        "HIS", 
        "MISSION ACCOMPLISHED", 
        {"level": "SS"}, 
        {"speed": "1.2s"}, 
        ["HTTPSå·²é©—è­‰", "é©—è­‰ç¢¼é–€æª»", "SSLæ†‘è­‰æ­£å¸¸"],
        ["å¼·åˆ¶ HTTPS è·³è½‰", "Session è‡ªå‹•è¶…æ™‚", "RWD ä»‹é¢å„ªåŒ–"]
    )
